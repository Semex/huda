var Key;Key=function(){function n(){}var e,t,r,o,u,l,i,f,c,s,a,v,d;return a=".btn-",d="",c=0,o=128,r=[],u={},l={},f=null,e=function(n){return window.document.querySelectorAll(n)},i=function(){return c+=1,r=[],null},t=function(){return c-=1,r=[],null},s=function(n){var e,t,i,f,s,a;r.length>=o&&(r=[]),e=String.fromCharCode(n.keyCode),e=e.toLowerCase(),(n.metaKey===!0&&n.ctrlKey===!1||n.metaKey===!1&&n.ctrlKey===!0)&&r.push("ctrl"),r.push(e),f=r.toString().replace(/\,/g,"_"),f.match(/ctrl_r/)&&("function"==typeof n.preventDefault&&n.preventDefault(),r=[]),i=[];for(t in u)i.push(t);for(t in l)i.push(t);for(s=0,a=i.length;a>s;s++)if(t=i[s],f=r.toString().replace(/\,/g,"_"),f.match(t)&&f.match(t)[0]===f)return 0===c&&"function"==typeof l[t]&&l[t](),0===c&&"function"==typeof u[t]&&u[t](),r=[],null;return null},v=function(){var n,t,r,o,l,i,f;for(t in u){if(r=e(""+a+t+d),0===r.length)return null;if(null===window.ontouchstart)for(o=0,i=r.length;i>o;o++)n=r[o],n.removeEventListener("touchstart",u[t],!0);else for(l=0,f=r.length;f>l;l++)n=r[l],n.removeEventListener("mousedown",u[t],!0)}return null},n.prototype.reset=function(){return v(),null},n.prototype.load=function(n){var r,o,l,f,c,h,y,p;if(o=function(n){var t,r,o,l,i,f;if(r=e(""+a+n+d),null===window.ontouchstart)for(o=0,i=r.length;i>o;o++)t=r[o],t.addEventListener("touchstart",u[n],!0);else for(l=0,f=r.length;f>l;l++)t=r[l],t.addEventListener("mousedown",u[n],!0);return null},c=function(n){var r,o,u,l;if(o=e(n),null===o)return null;for(u=0,l=o.length;l>u;u++)r=o[u],r.removeEventListener("focus",i),r.addEventListener("focus",i),r.removeEventListener("blur",t),r.addEventListener("blur",t);return null},null!=n.input)for(p=n.input,h=0,y=p.length;y>h;h++)l=p[h],c(l);if(v(),u=n.keys,null!=n.keys)for(f in n.keys)o(f);return r=e("body")[0],r.removeEventListener("keydown",s),r.addEventListener("keydown",s),null},n}();