var Audio;Audio=function(){function t(){switch(u="not found",navigator.userAgent.indexOf(!0)&&(u="AudioTag"),"undefined"!=typeof AudioContext&&null!==AudioContext&&(u="AudioContext"),"undefined"!=typeof webkitAudioContext&&null!==webkitAudioContext&&(u="webkitAudioContext"),u){case"AudioContext":case"webkitAudioContext":if(this.load=this.loadAudioContext,this.play=this.playAudioContext,"undefined"!=typeof webkitAudioContext&&null!==webkitAudioContext){o=new webkitAudioContext;break}"undefined"!=typeof AudioContext&&null!==AudioContext&&(o=new AudioContext);break;case"AudioTag":this.load=this.loadAudioTag,this.play=this.playAudioTag}}var e,o,n,i,u,d,r,a;return a=3e3,u=null,d=[],o=null,e=[],r="",n=null,i={},t.prototype.getSingleURL=function(t){return"string"==typeof t?t:t[0]},t.prototype.getTagFromURL=function(t,e){return null!=e?e:this.getSingleURL(t)},t.prototype.playAudioTag=function(t){var e,o,u,d,r;return d=i[t],o="clone-audio-track-"+n++,r=document.querySelector("#audio-pool"),u=document.querySelector("#"+d),e=u.cloneNode(!0),e.setAttribute("id",o),r.appendChild(e),e.addEventListener("canplay",function(){return e.play()}),e.addEventListener("ended",function(){return e.remove()}),setTimeout(function(){return null!=e?e.remove():void 0},a)},t.prototype.loadAudioTag=function(t,e){var o,u,d,a,l,c,p,s;return l=function(t,e){var o,n,i;n=document.createElement(t);for(o in e)i=e[o],n.setAttribute(o,i);return n},c=function(t){var e;return e=t.split("."),e[e.length-1].toLowerCase()},d=document.querySelector("#audio-pool"),null===d&&(d=l("div",{id:"audio-pool"}),a=document.querySelector("body"),a.appendChild(d)),p="audio-track-"+n++,i[e]=p,u=l("audio",{id:p,preload:"auto"}),o={type:"audio/"+c(t[0]),src:r+t[0]},s=l("source",o),u.appendChild(s),d.appendChild(u),console.log(u)},t.prototype.playAudioContext=function(t){var n,i,u,r;try{return n=e[t],void 0===n?(d[t]=!0,null):(i=o,r=i.createBufferSource(),r.buffer=n,r.connect(i.destination),null!=r.noteOn?(r.noteOn(0),null):r.start(0))}catch(a){u=a}},t.prototype.loadAudioContext=function(t,n){var i,u,r,a;try{return r=this,a=this.getSingleURL(t),n=this.getTagFromURL(t,n),u=new XMLHttpRequest,u.open("GET",a,!0),u.responseType="arraybuffer",u.onload=function(){return o.decodeAudioData(u.response,function(t){return e[n]=t,d[n]?r.playAudioContext(n):void 0},function(){throw new Error("Failed to decode.")})},u.send()}catch(l){i=l}},t}();